<div class="mb-1">
  <app-header
    (searchChanged)="onSearchChanged($event)"
    (goHome)="scrollToTop()"
    (openDeclareForm)="onOpenDeclareForm()"
    [declareActive]="showForm"
  ></app-header>
</div>

<!-- ğŸŒ Hero Section -->
<section class="relative w-full bg-gradient-to-br from-indigo-600 via-blue-600 to-green-500 text-white py-20 md:py-28 overflow-hidden">
  <div class="container mx-auto flex flex-col md:flex-row items-center justify-between px-6 md:px-16">
    <div class="max-w-lg text-center md:text-left space-y-5 z-10">
      <h1 class="text-4xl md:text-5xl font-extrabold leading-tight drop-shadow-lg">
        ProtÃ©geons notre
        <span class="block md:inline text-green-200">planÃ¨te ensemble ğŸŒ</span>
      </h1>

      <p class="text-gray-100 text-lg max-w-md mx-auto md:mx-0">
        Signalez, suivez et agissez contre les pollutions autour de vous.
      </p>

      <button
        (click)="toggleForm()"
        class="mt-4 bg-white text-indigo-700 font-semibold px-6 py-3 rounded-lg shadow-lg transition-all duration-300 ease-out transform hover:-translate-y-1 hover:scale-105 hover:bg-indigo-50 hover:text-indigo-800 active:scale-95"
      >
        ğŸš€ DÃ©clarer une pollution
      </button>
    </div>

    <div class="relative flex justify-center md:justify-end w-full md:w-1/2 mt-10 md:mt-0">
      <div class="absolute inset-0 bg-gradient-to-t from-indigo-600/30 via-transparent to-transparent rounded-full blur-3xl"></div>

      <img
        src="assets/terre.png"
        alt="Illustration de la planÃ¨te Terre"
        title="Illustration de la planÃ¨te Terre"
        class="relative z-10 max-h-[300px] md:max-h-[380px] object-contain drop-shadow-2xl rounded-2xl bg-white/10 p-4 backdrop-blur-sm transition-transform duration-500 hover:scale-105"
      />
    </div>
  </div>

  <div class="absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-white to-transparent"></div>
</section>

<!-- âœ… Message de succÃ¨s -->
<div
  *ngIf="successMessage"
  class="max-w-3xl mx-auto mt-10 px-6 py-4 bg-green-100 text-green-800 border border-green-300 rounded-lg text-center font-semibold shadow-md"
>
  {{ successMessage }}
</div>

<!-- âœ… Formulaire -->
<section *ngIf="showForm" #declareFormSection class="bg-gray-50 py-16">
  <div class="max-w-3xl mx-auto px-6 bg-white rounded-2xl shadow-md p-8">
    <app-pollutions-form (pollutionAdded)="onPollutionAdded($event)"></app-pollutions-form>
  </div>
</section>

<!-- ğŸ§¾ Section Liste -->
<section #listSection class="bg-gray-50 py-16">
  <div class="max-w-7xl mx-auto px-6">
    <h2 class="text-2xl md:text-3xl font-extrabold text-center text-indigo-700 mb-12 flex flex-col items-center justify-center gap-2">
      <span class="text-3xl md:text-4xl">ğŸŒ¿</span>
      <span>DerniÃ¨res pollutions signalÃ©es</span>
    </h2>

    <app-pollutions-list
      [pollutions$]="pollutions$"
      [searchActive]="searchActive"
      (listChanged)="onListChanged()"
    ></app-pollutions-list>
  </div>
</section>
